
<!DOCTYPE html>
<html ng-app="calendarApp">

<head>
  <title>Calendar App</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body ng-controller="CalendarController as calendar">

  <div class="calendar">
    <div class="calendar-header">
      <button class="btn btn-nav" ng-click="calendar.previousMonth()">&lt;</button>
      <button class="btn btn-nav" ng-click="calendar.nextMonth()">&gt;</button>
      <h2 class="month-year">{{ calendar.month | date: 'MMMM yyyy' }} | {{ calendar.weeks.length }} weeks</h2>
    <table>
      <thead>
        <tr>
          <th ng-repeat="dayName in calendar.dayNames">{{ dayName }}</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="week in calendar.weeks">
          <td ng-repeat="day in week">
            <div class="day" ng-class="{ 'reserved': day.reserved }">
              <span class="date">{{ day.date | date: 'd' }}</span>
              <span class="tenant">{{ day.tenantName }}</span>
              <div ng-if="day.date !== null" class="actions">
                <button class="btn btn-xs btn-success" ng-click="calendar.showTenantModal(day)">Add/Edit</button>
                <button ng-click="calendar.deleteTenant(day)">Delete</button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Tenant Modal -->
  <div class="modal" ng-show="calendar.showModal">
    <div class="modal-content">
      <h2 ng-if="!calendar.selectedDay.reserved">Add Tenant</h2>
      <h2 ng-if="calendar.selectedDay.reserved">Edit Tenant</h2>
      <p>Date: {{ calendar.selectedDay.date | date: 'dd/MM/yyyy' }}</p>
      <p>Unix Time: {{ calendar.selectedDay.date.getTime()}}</p>
      <p ng-if="calendar.selectedDay.reserved">Tenant: {{ calendar.selectedDay.tenantName }}</p>
      <form ng-submit="calendar.saveTenant()">
        <input type="text" ng-model="calendar.tenantName" placeholder="Enter tenant name" required>
        <div class="modal-actions">
          <button class="btn btn-save" type="submit">Save</button>
          <button class="btn btn-delete" ng-if="calendar.selectedDay.reserved" ng-click="calendar.deleteTenant()">Delete</button>
        </div>
      </form>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.2/angular.min.js"></script>
  <script src="app.js"></script>
</body>

</html>
